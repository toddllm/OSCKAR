mountpoints
 .mozilla/
 .thunderbird
  *Places*

repairable .mozilla options
contract file cleanup


FS-VM
incremental backups - ability to rollback (things like .mozilla when they break)


***********************
sudo time vmbuilder kvm ubuntu --libvirt=qemu:///system --hostname  ubuntu-amd64-desktop-base --addpkg ubuntu-desktop --addpkg openssh-server --removepkg apt-xapian-index --user osckar --pass=osckar --ssh-user-key=/etc/osckar/oapvm/id_rsa.pub --debug -v --rootsize=8000 -mem=512
***********************


***possible bug: ssh -X hangs open, needs ctrl+c to end it (only on first SSH connection?)

time vmbuilder kvm ubuntu --libvirt=qemu:///system --addpkg ubuntu-desktop --addpkg openssh-server --hostname ubuntu-desktop-amd64-base --user osckar --ssh-user-key=/etc/osckar/oapvm/id_rsa.pub --debug -v

sudo time vmbuilder kvm ubuntu --libvirt=qemu:///system --hostname test4 --addpkg ubuntu-desktop --addpkg openssh-server --user osckar --ssh-user-key=/etc/osckar/oapvm/id_rsa.pub --debug -v --rootsize=8000


ssh key create options to automatically not create one if one already exist and also create the known_hosts file


vmbuilder when not passing a password sets it to ubuntu by default

Patches to vm-builder

diff -u /usr/share/pyshared/VMBuilder/plugins/ubuntu/dapper.py.orig /usr/share/pyshared/VMBuilder/plugins/ubuntu/dapper.py
--- /usr/share/pyshared/VMBuilder/plugins/ubuntu/dapper.py.orig	2009-03-30 23:28:58.000000000 -0400
+++ /usr/share/pyshared/VMBuilder/plugins/ubuntu/dapper.py	2009-04-02 23:48:19.000000000 -0400
@@ -78,15 +78,15 @@
             logging.debug("Creating device.map")
             self.install_device_map()
 
-        logging.debug("Installing ssh keys")
-        self.install_authorized_keys()
-
         logging.debug("Installing extra packages")
         self.install_extras()
 
         logging.debug("Creating initial user")
         self.create_initial_user()
 
+        logging.debug("Installing ssh keys")
+        self.install_authorized_keys()
+
         logging.debug("Copy host settings")
         self.copy_settings()
 
@@ -114,6 +114,7 @@
             os.mkdir('%s/home/%s/.ssh' % (self.destdir, self.vm.user), 0700)
             shutil.copy(self.vm.ssh_user_key, '%s/home/%s/.ssh/authorized_keys' % (self.destdir, self.vm.user))
             os.chmod('%s/home/%s/.ssh/authorized_keys' % (self.destdir, self.vm.user), 0644)
+            run_cmd('chroot',self.destdir,'chown', '-R','%s:%s' % (self.vm.user, self.vm.user), '/home/%s/.ssh/' % (self.vm.user)) 
         if self.vm.ssh_user_key or self.vm.ssh_key:
             if not self.vm.addpkg:
                 self.vm.addpkg = []

